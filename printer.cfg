[include kiauh_macros.cfg]

[mcu]
;serial: /dev/serial/by-id/<your-mcu-id>
#serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_10002700075053424E363420-if00
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_3C0042001551303432323631-if00

[printer]
kinematics: corexy
max_velocity: 500
;max_velocity: 1500 # 48V.
max_accel: 30000
max_accel_to_decel: 30000
;max_accel: 4500 ; good quality
;max_accel: 10000 
max_z_velocity: 40
max_z_accel: 350
square_corner_velocity = 8.0

#[mcu rpi]
#serial: /tmp/klipper_host_mcu

#[adxl345]
#cs_pin: rpi:None
#axes_map: -x, y, -z

# Enable object exclusion
[include exclude.cfg]

[include input_shaper.cfg]

[pause_resume]

[display_status]

[virtual_sdcard]
path: ~/gcode_files

[heater_bed]
heater_pin: PA1
sensor_type: NTC 100K MGB18-104F39050L32
sensor_pin: PF3
#control: pid
min_temp: 0
max_temp: 130
max_power: 0.7
#pid_Kp=21.056
#pid_Ki=1.105
#pid_Kd=100.278

#   See the "extruder" section for a description of the above parameters.

#[include ~/MACROS/*.cfg]

[include extruder.cfg]

[include steppers.cfg]

[include fans.cfg]

[include lcd.cfg]
[include lcd_tweak.cfg]

[include splash.cfg]

[include led.cfg] # LED light

[include filament_runout_detection.cfg]

#[include print_start.cfg]

#[safe_z_home]
#home_xy_position: 77,360
#   A X,Y coordinate (e.g. 100,100) where the Z homing should be
#   performed. This parameter must be provided.
#speed: 50.0
#   Speed at which the toolhead is moved to the safe Z home
#   coordinate. The default is 50 mm/s
#z_hop:
#   Distance (in mm) to lift the Z axis prior to homing. This is
#   applied to any homing command, even if it doesn't home the Z axis.
#   If the Z axis is already homed and the current Z position is less
#   than z_hop, then this will lift the head to a height of z_hop. If
#   the Z axis is not already homed the head is lifted by z_hop.
#   The default is to not implement Z hop.
#z_hop_speed: 20.0
#   Speed (in mm/s) at which the Z axis is lifted prior to homing. The
#   default is 20mm/s.
#move_to_previous: False
#   When set to True, xy are reset to their previous positions after z
#   homing. The default is False.

[include probe.cfg]
[include klicky-probe.cfg]
[include z_calibration.cfg]

[include bed_mesh.cfg]

[include qgl.cfg]

[temperature_sensor raspberry_pi]
sensor_type: temperature_host
min_temp: 10
max_temp: 100

[temperature_sensor mcu_temp]
sensor_type: temperature_mcu
min_temp: 0
max_temp: 100

[include pins.cfg]

[include MACROS/*.cfg]

[include nozzle_scrub.cfg]

[firmware_retraction]
retract_length: 0.2
retract_speed: 25

[include idle_timeout.cfg]

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 57.609
#*# pid_ki = 1.883
#*# pid_kd = 440.712
#*#
#*# [extruder]
#*#
#*# [bed_mesh PEI_mesh]
#*# version = 1
#*# points =
#*# 	0.070625, 0.080156, 0.089219, 0.155313, 0.104844, 0.128281, 0.062656, 0.067813, 0.032031
#*# 	0.072344, 0.072969, 0.090938, 0.107344, 0.137031, 0.087813, 0.058906, 0.064375, 0.049375
#*# 	0.021875, 0.023438, 0.044688, 0.086875, 0.062188, 0.064844, 0.039688, 0.062188, 0.065938
#*# 	0.019063, 0.006406, 0.027813, 0.039688, 0.050625, 0.034063, 0.041094, 0.019531, 0.034219
#*# 	0.008906, -0.021406, -0.000469, -0.003125, 0.000000, 0.001250, -0.003125, 0.025937, 0.034687
#*# 	0.021250, 0.010000, 0.021875, 0.025156, 0.037969, 0.020469, 0.017969, 0.025312, 0.049219
#*# 	0.046250, 0.041719, 0.025625, 0.045781, 0.048281, 0.058594, 0.048594, 0.061719, 0.070312
#*# 	0.046875, 0.058437, 0.052812, 0.075000, 0.058125, 0.084531, 0.090312, 0.067969, 0.087187
#*# 	0.063906, 0.058906, 0.081406, 0.094687, 0.136562, 0.116562, 0.114844, 0.076562, 0.065781
#*# tension = 0.2
#*# mesh_x_pps = 3
#*# algo = bicubic
#*# min_x = 10.0
#*# min_y = 20.0
#*# y_count = 9
#*# mesh_y_pps = 3
#*# x_count = 9
#*# max_x = 340.0
#*# max_y = 330.0
#*#
#*# [bed_mesh PEI-100T]
#*# version = 1
#*# points =
#*# 	0.023750, 0.036875, 0.080000, 0.096250, 0.092500, 0.036875, 0.002500
#*# 	0.015000, 0.041250, 0.068750, 0.092500, 0.054375, 0.036875, 0.021875
#*# 	-0.020625, -0.001875, 0.027500, 0.026875, 0.020625, 0.005000, 0.011875
#*# 	-0.021875, -0.038125, 0.015625, 0.000000, 0.006875, -0.006250, -0.006875
#*# 	-0.026250, -0.025000, -0.001250, 0.015000, 0.011250, 0.008750, 0.016250
#*# 	0.002500, 0.014375, 0.018750, 0.029375, 0.070000, 0.048125, 0.032500
#*# 	0.024375, 0.028125, 0.044375, 0.088125, 0.063125, 0.055625, 0.030000
#*# tension = 0.2
#*# mesh_x_pps = 3
#*# algo = bicubic
#*# min_x = 30.0
#*# min_y = 30.0
#*# y_count = 7
#*# mesh_y_pps = 3
#*# x_count = 7
#*# max_x = 319.98
#*# max_y = 319.98
#*#
#*# [bed_mesh PEI-70T]
#*# version = 1
#*# points =
#*# 	0.070000, 0.092500, 0.122500, 0.125625, 0.111875, 0.058125, 0.026250
#*# 	0.047500, 0.065000, 0.078125, 0.113125, 0.079375, 0.051875, 0.029375
#*# 	0.004375, 0.009375, 0.042500, 0.041250, 0.026250, 0.006875, 0.008750
#*# 	0.005000, -0.019375, 0.030000, 0.000000, 0.004375, -0.010625, -0.014375
#*# 	0.005000, -0.015000, 0.017500, 0.032500, 0.016250, 0.003125, 0.008125
#*# 	0.047500, 0.058750, 0.053750, 0.063750, 0.066250, 0.070625, 0.034375
#*# 	0.072500, 0.085000, 0.083750, 0.113125, 0.098125, 0.087500, 0.055625
#*# tension = 0.2
#*# min_x = 30.0
#*# algo = bicubic
#*# y_count = 7
#*# mesh_y_pps = 3
#*# min_y = 30.0
#*# x_count = 7
#*# max_y = 319.98
#*# mesh_x_pps = 3
#*# max_x = 319.98
#*#
#*# [bed_mesh PEI-80T]
#*# version = 1
#*# points =
#*# 	0.043750, 0.072500, 0.101250, 0.108750, 0.095000, 0.045625, 0.013125
#*# 	0.039375, 0.055000, 0.072500, 0.099375, 0.070000, 0.043125, 0.025625
#*# 	0.008750, 0.011250, 0.039375, 0.035625, 0.026250, 0.008750, 0.010000
#*# 	-0.008750, -0.024375, 0.023750, 0.000000, 0.006250, -0.005625, -0.011250
#*# 	0.004375, -0.021875, 0.013750, 0.029375, 0.015000, 0.006250, 0.010625
#*# 	0.038750, 0.035625, 0.046875, 0.056250, 0.063125, 0.066875, 0.031875
#*# 	0.056250, 0.075000, 0.075000, 0.105000, 0.089375, 0.079375, 0.046250
#*# tension = 0.2
#*# min_x = 30.0
#*# algo = bicubic
#*# y_count = 7
#*# mesh_y_pps = 3
#*# min_y = 30.0
#*# x_count = 7
#*# max_y = 319.98
#*# mesh_x_pps = 3
#*# max_x = 319.98
#*#
#*# [bed_mesh PEI-90T]
#*# version = 1
#*# points =
#*# 	0.042500, 0.068750, 0.099375, 0.113750, 0.096250, 0.051250, 0.020000
#*# 	0.038125, 0.055625, 0.072500, 0.106250, 0.068750, 0.050625, 0.025000
#*# 	0.001250, 0.012500, 0.040000, 0.041250, 0.033750, 0.006250, 0.010000
#*# 	0.001250, -0.028125, 0.026250, 0.000000, 0.004375, -0.006250, -0.013750
#*# 	-0.003750, -0.023750, 0.018750, 0.028750, 0.015000, 0.028125, 0.011875
#*# 	0.031250, 0.032500, 0.041250, 0.058750, 0.061875, 0.064375, 0.030000
#*# 	0.046250, 0.065625, 0.068125, 0.097500, 0.083125, 0.074375, 0.038750
#*# tension = 0.2
#*# min_x = 30.0
#*# algo = bicubic
#*# y_count = 7
#*# mesh_y_pps = 3
#*# min_y = 30.0
#*# x_count = 7
#*# max_y = 319.98
#*# mesh_x_pps = 3
#*# max_x = 319.98
#*#
#*# [bed_mesh PEI-60T]
#*# version = 1
#*# points =
#*# 	0.055000, 0.078750, 0.113125, 0.118750, 0.101875, 0.047500, 0.013750
#*# 	0.046875, 0.064375, 0.075000, 0.108750, 0.081250, 0.048750, 0.030000
#*# 	0.011250, 0.015625, 0.049375, 0.045625, 0.029375, 0.006875, 0.010625
#*# 	0.017500, -0.016875, 0.030625, 0.000000, 0.010000, -0.007500, -0.012500
#*# 	0.006250, -0.013125, 0.019375, 0.035625, 0.015625, 0.005000, 0.008125
#*# 	0.043125, 0.037500, 0.049375, 0.061875, 0.065625, 0.065000, 0.036875
#*# 	0.070625, 0.079375, 0.077500, 0.109375, 0.095625, 0.083750, 0.055625
#*# tension = 0.2
#*# min_x = 30.0
#*# algo = bicubic
#*# y_count = 7
#*# mesh_y_pps = 3
#*# min_y = 30.0
#*# x_count = 7
#*# max_y = 319.98
#*# mesh_x_pps = 3
#*# max_x = 319.98
#*#
#*# [bed_mesh PEI-110T]
#*# version = 1
#*# points =
#*# 	0.045000, 0.069375, 0.110625, 0.115000, 0.105000, 0.057500, 0.016875
#*# 	0.043125, 0.061875, 0.078125, 0.110000, 0.060000, 0.054375, 0.037500
#*# 	0.000625, 0.008125, 0.036250, 0.028125, 0.016875, -0.007500, 0.003750
#*# 	-0.000625, -0.024375, 0.013125, 0.000000, -0.011250, -0.022500, -0.023125
#*# 	-0.005625, -0.022500, 0.022500, 0.022500, 0.005000, 0.016250, -0.004375
#*# 	0.035000, 0.028750, 0.036875, 0.051250, 0.051875, 0.049375, 0.014375
#*# 	0.067500, 0.070625, 0.082500, 0.096875, 0.085625, 0.075000, 0.023750
#*# tension = 0.2
#*# min_x = 30.0
#*# algo = bicubic
#*# y_count = 7
#*# mesh_y_pps = 3
#*# min_y = 30.0
#*# x_count = 7
#*# max_y = 319.98
#*# mesh_x_pps = 3
#*# max_x = 319.98
